<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.project.tripinfo.repository.LocationBoardMapper">
    <insert id="insertTable" parameterType="com.project.tripinfo.model.Table_name">
        INSERT INTO location_board (addr1, areacode, cat1, cat2, cat3, contentid, contenttypeid, createdtime, firstimage,
                                firstimage2,
                                mapx, mapy, mlevel, modifiedtime, title, zipcode, sigungucode)
        values (#{addr1}, #{areacode}, #{cat1}, #{cat2}, #{cat3}, #{contentid}, #{contenttypeid},
                #{createdtime}, #{firstimage}, #{firstimage2}, #{mapx}, #{mapy}, #{mlevel}, #{modifiedtime}, #{title},
                #{zipcode}, #{sigungucode})
    </insert>

    <update id="insertDetailTable" parameterType="com.project.tripinfo.model.Table_name">
        UPDATE location_board
        SET overview    = #{overview}
        WHERE contentid = #{contentid}
    </update>

    <select id="checkDetailTable" resultType="int" parameterType="int">
        select count(1)
        from location_board
        where contentid = #{contentid}
    </select>

    <select id="checkDetail" resultType="map">
        select contentid
        from location_board
    </select>

    <select id="selectHongdae" resultType="hashmap" parameterType="hashmap">
        SELECT *
        FROM location_board
        where areacode = 1
          AND sigungucode = 13
        <if test="contenttypeid!=null and !contenttypeid.equals('')">
            AND contenttypeid = #{contenttypeid}
        </if>
        ORDER BY info_seq DESC
        LIMIT #{criteria.pageStart}, #{criteria.amount}
    </select>

    <select id="checkTable" resultType="int" parameterType="int">
        select count(1)
        from location_board
        where contentid = #{contentid}
          AND contenttypeid = #{contenttypeid}
    </select>

    <select id="hongdaeDetail" resultType="com.project.tripinfo.model.Table_name">
        SELECT *
        FROM location_board
        where contentid = #{contentId}
          and contenttypeid = #{typeId}
    </select>

    <select id="LocalListCnt" resultType="java.lang.Integer" parameterType="java.lang.Integer">
        select count(*)
        from location_board
        where areacode = 1
          AND sigungucode = 13
        <if test="contenttypeid!=null and !contenttypeid.equals('')">
            AND contenttypeid = #{contenttypeid}
        </if>
    </select>
</mapper>